{% extends "com/_list.html" %}

{% block custom-css %}
<style>
  .disabled {
    display: none;
  }

  .point {
    color: #B8906F;
    margin-left: 10px;
  }
</style>
{% end %}

{% block operation %}
{% if point %}
<div class="point">我的积分：{{point}}</div>
{% end %}
{% end %}

{% block custom-js %}
<script>
  // 查看
  $('.action .my-task-view').click(function () {
    let data = getData($(this).parent().parent().attr('id'));
    location.href = '/task/' + data.task_type + '/' + data._id + '?from=' + encodeFrom();
  });
  // 继续
  $('.action .my-task-do').click(function () {
    let data = getData($(this).parent().parent().attr('id'));
    if (data.status === 'finished') return showTips('提示', '只能继续进行中的任务，已完成的任务，请直接修改。', 5000);
    location.href = '/task/do/' + data.task_type + '/' + data._id;
  });
  // 修改
  $('.action .my-task-update').click(function () {
    let data = getData($(this).parent().parent().attr('id'));
    location.href = '/task/update/' + data.task_type + '/' + data._id + '?from=' + encodeFrom();
  });
</script>
{% end %}
